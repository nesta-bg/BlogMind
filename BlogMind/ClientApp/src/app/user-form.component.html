<h2>{{ title }}</h2>
<div class="col col-lg-6 bg-light">
    <form [formGroup]="userForm" (ngSubmit)="save()">
        <div class="form-group">
            <h3>User</h3>
            <label for="name"><strong>Name</strong></label>
            <input id="name" type="text" class="form-control" formControlName="name" required>
            <div *ngIf="userForm.get('name').invalid && userForm.get('name').touched" class="alert alert-danger">
                <div *ngIf="userForm.get('name').errors.required">
                    Name is required.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="email"><strong>Email</strong></label>
            <input id="email" type="text" class="form-control" formControlName="email" required>
            <div *ngIf="userForm.get('email').invalid && (userForm.get('email').dirty || userForm.get('email').touched)"
                class="alert alert-danger">
                <div *ngIf="userForm.get('email').errors.required">
                    Email is required.
                </div>
                <div *ngIf="!userForm.get('email').errors.required && userForm.get('email').errors.email">
                    Please type a valid email.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="phone"><strong>Phone</strong></label>
            <input id="phone" type="text" class="form-control" formControlName="phoneNumber">
        </div>
        <div class="form-group">
            <label for="userName"><strong>Username</strong></label>
            <input id="userName" class="form-control" formControlName="userName" required>
            <div *ngIf="userForm.get('userName').invalid && userForm.get('userName').touched"
                class="alert alert-danger">
                <div *ngIf="userForm.get('userName').errors?.required">
                    UserName is required.
                </div>
            </div>
        </div>
        <div formGroupName="passwords">
            <div class="form-group">
                <label for="password"><strong>Password</strong></label>
                <input id="password" type="password" class="form-control" formControlName="password" required>
                <div *ngIf="userForm.get('passwords.password').invalid && userForm.get('passwords.password').touched"
                    class="alert alert-danger">
                    <div *ngIf="userForm.get('passwords.password').errors?.required">
                        This field is mandatory.
                    </div>
                    <div *ngIf="userForm.get('passwords.password').errors?.minlength">
                        Minimum {{ userForm.get('passwords.password').errors.minlength.requiredLength }} characters
                        required.
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="confirmPassword"><strong>Confirm Password</strong></label>
                <input id="confirmPassword" type="password" class="form-control" formControlName="confirmPassword"
                    required>
                <div *ngIf="userForm.get('passwords.confirmPassword').invalid && userForm.get('passwords.confirmPassword').touched"
                    class="alert alert-danger">
                    <div *ngIf="userForm.get('passwords.confirmPassword').errors?.required">
                        This field is mandatory.
                    </div>
                    <div *ngIf="userForm.get('passwords.confirmPassword').errors?.passwordMismatch">
                        Confirm Password does not match.
                    </div>
                </div>
            </div>
        </div>


        <div formGroupName="address">
            <div class="form-group">
                <h3>Address</h3>
                <label for="street"><strong>Street</strong></label>
                <input id="street" type="text" class="form-control" formControlName="street">
            </div>
            <div class="form-group">
                <label for="suite"><strong>Suite</strong></label>
                <input id="suite" type="text" class="form-control" formControlName="suite">
            </div>
            <div class="form-group">
                <label for="city"><strong>City</strong></label>
                <input id="city" type="text" class="form-control" formControlName="city">
            </div>
            <div class="form-group">
                <label for="zipcode"><strong>Zipcode</strong></label>
                <input id="zipcode" type="text" class="form-control" formControlName="zipcode">
            </div>
        </div>
        <button class="btn btn-primary mb-3" type="submit" [disabled]="!userForm.valid">Submit</button>
    </form>
</div>